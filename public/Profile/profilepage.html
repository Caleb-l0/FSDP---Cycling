<!DOCTYPE html>
<html lang="en">    
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>My Profile | HappyVolunteer</title>

<!-- Default CSS -->
<link rel="stylesheet" href="./profilepage.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="../homepage.css">

<style>
/* Simple header dropdown styling */
.hv-lang-dropdown {
  position: relative;
  display: inline-block;
  margin-left: 20px;
}

.hv-lang-dropdown-content {
  display: none;
  position: absolute;
  right: 0;
  background-color: #fff;
  min-width: 120px;
  box-shadow: 0px 8px 16px rgba(0,0,0,0.2);
  z-index: 1000;
  border-radius: 5px;
  overflow: hidden;
}

.hv-lang-dropdown-content button {
  background: none;
  border: none;
  width: 100%;
  padding: 10px 15px;
  text-align: left;
  cursor: pointer;
  font-size: 14px;
}

.hv-lang-dropdown-content button:hover {
  background-color: #f0f0f0;
}

.hv-lang-dropdown:hover .hv-lang-dropdown-content {
  display: block;
}

.hv-lang-dropdown button#langButton {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 16px;
  padding: 5px 10px;
}
</style>

</head>

<body>

<div id="translate">

<header class="hv-header">
    <div class="container hv-header-content">

        <!-- LOGO -->
        <div class="hv-logo">
            <a href="./homepage_login_Admin.html" style="text-decoration: none; color: inherit;" id="logoRedirect">
                Happy Volunteer
            </a>
        </div>

        <!-- Desktop Navigation -->
        <nav id="mainNav">
            <ul>
                <li><a href="./volunteer-events.html">Booking</a></li>
                <li><a href="./volunteer_community_page.html">Community</a></li>
                <li><a href="./volunteer_rewards.html">Reward</a></li>
                <li><a href="./volunteer_friend.html">Friends</a></li>
                <li><a href="../Profile/profilepage.html">Profile</a></li>
            </ul>
        </nav>

        <!-- Translation Dropdown in Header -->
        <div class="hv-lang-dropdown">
          <button id="langButton">Language </button>
          <div class="hv-lang-dropdown-content">
            <button onclick="translatePage('en')">English</button>
            <button onclick="translatePage('zh')">Chinese</button>
            <button onclick="translatePage('ms')">Malay</button>
            <button onclick="translatePage('ta')">Tamil</button>
          </div>
        </div>

        <button class="hv-nav-toggle" id="hvNavToggle">
            <i class="fas fa-bars"></i>
        </button>

        <!-- Mobile Navigation -->
        <nav class="hv-nav" id="hvNav">
            <ul>
                    <li><a href="./volunteer-events.html">Booking</a></li>
                    <li><a href="./volunteer_community_page.html">Community</a></li>
                    <li><a href="./volunteer_rewards.html">Reward</a></li>
                    <li><a href="./volunteer_friend.html">Friends</a></li>
                    <li><a href="../Profile/profilepage.html">Profile</a></li>
            </ul>
        </nav>

    </div>
</header>

<section class="hero profile-hero">
  <div class="profile-container">
    
    <!-- Left Sidebar Navigation -->
    <div class="profile-sidebar">
      <h3 class="sidebar-title">Profile Menu</h3>
      <nav class="profile-nav">
        <button class="profile-nav-btn active" data-section="basic" onclick="switchProfileSection('basic')">
          <i class="fas fa-user"></i>
          <span>Basic Profile</span>
        </button>
        <button class="profile-nav-btn" data-section="settings" onclick="switchProfileSection('settings')">
          <i class="fas fa-cog"></i>
          <span>Information Settings</span>
        </button>
        <button class="profile-nav-btn" data-section="events" onclick="switchProfileSection('events')">
          <i class="fas fa-calendar-check"></i>
          <span>Events Attended</span>
        </button>
        <button class="profile-nav-btn" data-section="badges" onclick="switchProfileSection('badges')">
          <i class="fas fa-trophy"></i>
          <span>Badges Gained</span>
        </button>
      </nav>
      
      <!-- Logout Button in Sidebar -->
      <div class="sidebar-footer">
        <button class="btn logout-btn sidebar-logout-btn" id="logoutBtn">
          <i class="fas fa-sign-out-alt"></i>
          <span>Logout</span>
        </button>
      </div>
    </div>

    <!-- Main Content Area -->
    <div class="profile-content">
    
    <!-- Section 1: Basic Profile Information -->
    <div class="profile-section profile-basic" id="section-basic">
      <div class="profile-avatar-container">
        <img id="profileAvatar" 
             src="https://cdn-icons-png.flaticon.com/512/847/847969.png" 
             class="profile-avatar"
             alt="Profile Picture">
        <label for="avatarUpload" class="avatar-upload-label" title="点击上传头像">
          <i class="fas fa-camera"></i>
        </label>
        <input type="file" id="avatarUpload" accept="image/*" style="display: none;">
      </div>
      <h2 id="profileTitle">Your Profile</h2>
      
      <div class="profile-field">
        <label><strong id="labelName">Name</strong></label>
        <input type="text" id="name" disabled>
      </div>

      <div class="profile-field">
        <label><strong id="labelEmail">Email</strong></label>
        <input type="email" id="email" disabled>
      </div>

      <div class="text-size-section">
        <p>Text size preference:</p>
        <div class="text-size-options" role="group" aria-label="Text size options">
          <button type="button" class="text-size-option" data-text-size="normal" aria-pressed="false">
            Normal
          </button>
          <button type="button" class="text-size-option" data-text-size="large" aria-pressed="false">
            Large
          </button>
        </div>
        <small>Changes take effect immediately after saving.</small>
      </div>

      <div class="profile-actions">
        <button class="btn" id="editBtn">Edit</button>
        <button class="btn" id="saveBtn" style="display:none;">Save</button>
      </div>
    </div>

    <!-- Section 2: Information Settings -->
    <div class="profile-section profile-settings" id="section-settings" style="display:none;">
      <h3 class="section-title">Information Settings</h3>
      
      <div class="profile-field">
        <label><strong>Home Address</strong></label>
        <div class="address-input-group">
          <input type="text" id="homeAddress" placeholder="Enter your address" disabled>
          <button type="button" class="location-btn" id="getLocationBtn" onclick="getCurrentLocation()" disabled>
            <i class="fas fa-map-marker-alt"></i> Use Current Location
          </button>
        </div>
      </div>

      <div class="profile-field">
        <label><strong>Phone Number</strong></label>
        <input type="tel" id="phoneNumber" placeholder="Enter your phone number" disabled>
      </div>

      <div class="profile-field">
        <label><strong>Advantages/Skills</strong></label>
        <textarea id="advantages" placeholder="List your skills or advantages (e.g., First Aid Certified, Bilingual, etc.)" disabled></textarea>
      </div>

      <button class="btn" id="editSettingsBtn">Edit Settings</button>
      <button class="btn" id="saveSettingsBtn" style="display:none;">Save Settings</button>
    </div>

    <!-- Section 3: Events Attended -->
    <div class="profile-section profile-events" id="section-events" style="display:none;">
      <h3 class="section-title">Events Attended</h3>
      <div id="eventsAttendedList" class="events-list">
        <p class="loading-text">Loading your events...</p>
      </div>
    </div>

    <!-- Section 4: Badges Gained -->
    <div class="profile-section profile-badges" id="section-badges" style="display:none;">
      <h3 class="section-title">Badges Gained</h3>
      <div id="badgesList" class="badges-grid">
        <p class="loading-text">Loading your badges...</p>
      </div>
    </div>

    </div> <!-- End profile-content -->
  </div> <!-- End profile-container -->
</section>

</div>

<script src="../Translation.js"></script>
<script src="./profile.js"></script>
<script src="../homepage.js"></script>

</body>
</html>
